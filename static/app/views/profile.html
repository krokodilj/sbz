<div class='container-fluid'>
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-3">
			<img src="{{ctrl.user.imageSrc}}" width="200px" height="200px">
			<h3>{{ctrl.user.username}}</h3>
			<h5>First Name : {{ctrl.user.firstName}}</h5>
			<h5>Last Name : {{ctrl.user.lastName}}</h5>
			<h5>Registered : {{ctrl.user.registered}}</h5>
			<span ng-show="role=='customer'" class="badge">{{ctrl.user.userProfile.userCategory.name}} User</span>
			<h5 ng-show="role=='customer'">Bonus Points : {{ctrl.user.userProfile.buyingPoints}}</h5>

		</div>
		<div class="col-md-5">
			<!-- manager dashboard -->
			<div ng-show="role=='manager' && name==ctrl.user.username">
				<center><h1>Manager options</h1></center>
				<hr>
				<a  
					href="#/user_category" 
					class="btn btn-primary btn-block" >
					Update spending limits
				</a>
				<br>
				<a  
					href="#/article_category" 
					class="btn btn-primary btn-block" >
					Manage article categories
				</a>
				<br>
				<a  
					href="#/sale_event" 
					class="btn btn-primary btn-block" >
					Manage sale events
				</a>

			</div>

			<!-- customer dashboard -->
			<div ng-show="role=='customer'">
				<center><h1>User orders</h1></center>
				<hr>
				<ul class="list-group">
					<li
						class="list-group-item"
						ng-repeat="order in ctrl.orders">
						<div style="background-color: #8eb2ed ;padding: 5px">
						<center><h4>Order: {{order.id}}</h4></center>
						</div>
						<hr>
						<div class="row">
							<div class="col-md-6">
								<h5>Total price :<strong>{{order.totalPrice}}</strong></h5>
								<h5>Order Discount :<strong>{{order.discount}}%</strong></h5>
								<h5>Final Price :<strong>{{order.price}}</strong></h5>
							</div>
							<div class="col-md-6">
								<span class="badge">{{order.state}}</span>
								<br>
								<br>
								<h5>Points spent :<strong>{{order.poitsSpent}}</strong></h5>
								<h5>Points earned :<strong>{{order.poitsEarned}}</strong></h5>
							</div>
						
						</div>
						<hr>
  	 					<button type="button" class="btn btn-info btn-block" data-toggle="collapse" data-target="#{{$index}}">Items</button>
						<div id="{{$index}}" class="collapse">
							<table
								class="table" 
								onmouseover='this.style.background="#8eb2ed"' 
   								onmouseout='this.style.background="white"'>
								<thead>
									<tr>
										<th> article name </th>
										<th> article price </th>
										<th> amount</th>
										<th> total price </th>
										<th> discount </th>
										<th><strong>final price</strong></th>
									</tr>
								</thead>
								<tbody >
									<tr ng-repeat="item in order.items">
										<td>{{item.article.name}}</td>
										<td>{{item.articlePrice}}</td>
										<td>{{item.amount}}</td>
										<td>{{item.totalPrice}}</td>
										<td>{{item.discount}}</td>
										<td><strong>{{item.price}}</strong></td>
									</tr>
								</tbody>
							</table>
						</div>
					</li>
				</ul>
			</div>
			<div ng-show="role=='salesman'">
				<center><h1>Salesman options</h1></center>
				<hr>
				<a  
					href="#/orders" 
					class="btn btn-primary btn-block" >
					Manage user orders
				</a>
				<br>
				<a  
					href="#/user_category" 
					class="btn btn-primary btn-block" >
					Order supplies
				</a>
			</div>
			
		</div>
	</div>
</div>